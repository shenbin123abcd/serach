"use strict";!function(){angular.module("hb.modules",["hb.qiniuSdk"]),angular.module("hb.qiniuSdk",[]).controller("hbQiniuFileUploadController",["$scope","$element","$attrs","$window",function(n,i,o,e){var t;n.qiniuVm=t={};var l=i.find("[hb-qiniu-file-upload-bt]"),u=i.find("[hb-qiniu-file-upload-bt-container]"),a=i.find("[hb-qiniu-file-upload-drag-container]"),r={runtimes:"html5,flash",browse_button:l.get()[0],uptoken:"Your upload token",domain:"http://qiniu-plupload.qiniudn.com/",get_new_uptoken:!1,container:u.get()[0],max_file_size:"100mb",flash_swf_url:"/plupload/js/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:a.get()[0],chunk_size:"5mb",auto_start:!0,init:{FilesAdded:function(n,i){plupload.each(i,function(n){})},BeforeUpload:function(n,i){},UploadProgress:function(i,o){n.$apply(function(){t.progress=i.total.percent})},FileUploaded:function(n,i,o){},Error:function(n,i,o){},UploadComplete:function(){},Key:function(n,i){}}};n.$watch(o.hbQiniuFileUpload,function(n){var i={},o={};angular.forEach(n,function(n,e){"init"==e?o=angular.copy(n):i[e]=n});var e=angular.extend(r,i);if(e.init=angular.extend(r.init,o),n){Qiniu.uploader(e)}})}]).directive("hbQiniuFileUpload",function(){return{controller:"hbQiniuFileUploadController",scope:!0}})}();